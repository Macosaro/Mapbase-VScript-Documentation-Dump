# VScript Server Global Functions, version 7.1

Generated by Macosaro

## AddPhysVelocity

Adds physics velocity for the given VPhysics object

```cpp
void AddPhysVelocity(handle, Vector, Vector)
```

## AddThinkToEnt

This will put a think function onto an entity, or pass null to remove it. This is NOT chained, so be careful.

```cpp
void AddThinkToEnt(handle, string)
```

## AngleDiff

Returns the degrees difference between two yaw angles.

```cpp
float AngleDiff(float, float)
```

## AngleDistance

```cpp
float AngleDistance(float, float)
```

## AngleIMatrix

Sets the inverted angles and position of a matrix.

```cpp
void AngleIMatrix(Vector, Vector, handle)
```

## AngleMatrix

Sets the angles and position of a matrix.

```cpp
void AngleMatrix(Vector, Vector, handle)
```

## AngleNormalize

Clamps an angle to be in between -360 and 360.

```cpp
float AngleNormalize(float)
```

## AngleNormalizePositive

Clamps an angle to be in between 0 and 360.

```cpp
float AngleNormalizePositive(float)
```

## AngleVectors

Turns an angle into a direction vector.

```cpp
Vector AngleVectors(Vector)
```

## AnglesAreEqual

Checks if two angles are equal based on a given tolerance value.

```cpp
bool AnglesAreEqual(float, float, float)
```

## AppearsToBeANumber

Checks if the given string appears to be a number.

```cpp
bool AppearsToBeANumber(string)
```

## Approach

```cpp
float Approach(float, float, float)
```

## ApproachAngle

Returns an angle which approaches the target angle from the input angle with the specified speed.

```cpp
float ApproachAngle(float, float, float)
```

## Bias

The curve is biased towards 0 or 1 based on biasAmt, which is between 0 and 1.

```cpp
float Bias(float, float)
```

## CalcClosestPointOnAABB

Returns the closest point on a bounding box.

```cpp
Vector CalcClosestPointOnAABB(Vector, Vector, Vector)
```

## CalcClosestPointOnLine

Returns the closest point on a line.

```cpp
Vector CalcClosestPointOnLine(Vector, Vector, Vector)
```

## CalcClosestPointOnLineSegment

Returns the closest point on a line segment.

```cpp
Vector CalcClosestPointOnLineSegment(Vector, Vector, Vector)
```

## CalcDistanceToLine

Returns the distance to a line.

```cpp
float CalcDistanceToLine(Vector, Vector, Vector)
```

## CalcDistanceToLineSegment

Returns the distance to a line segment.

```cpp
float CalcDistanceToLineSegment(Vector, Vector, Vector)
```

## CalcSqrDistanceToAABB

Returns the squared distance to a bounding box.

```cpp
float CalcSqrDistanceToAABB(Vector, Vector, Vector)
```

## CalculateBulletDamageForce

Fill out a damage info handle with a damage force for a bullet impact.

```cpp
void CalculateBulletDamageForce(handle, int, Vector, Vector, float)
```

## CalculateExplosiveDamageForce

Fill out a damage info handle with a damage force for an explosive.

```cpp
void CalculateExplosiveDamageForce(handle, Vector, Vector, float)
```

## CalculateMeleeDamageForce

Fill out a damage info handle with a damage force for a melee impact.

```cpp
void CalculateMeleeDamageForce(handle, Vector, Vector, float)
```

## CancelEntityIOEvent

Remove entity I/O event.

```cpp
bool CancelEntityIOEvent(int)
```

## ClearSavedTable

Removes the table with the given context.

```cpp
void ClearSavedTable(string)
```

## ConcatTransforms

Concatenates two transformation matrices into another matrix.

```cpp
void ConcatTransforms(handle, handle, handle)
```

## CreateDamageInfo

```cpp
handle CreateDamageInfo(handle, handle, Vector, Vector, float, int)
```

## CreateFireBulletsInfo

```cpp
handle CreateFireBulletsInfo(int, Vector, Vector, Vector, float, handle)
```

## CreateProp

Create a physics prop

```cpp
handle CreateProp(string, Vector, string, int)
```

## CreateRope

Creates a single rope between two entities. Can optionally follow specific attachments.

```cpp
handle CreateRope(handle, handle, int, int, float, string, int, int)
```

## CreateRopeWithSecondPointDetached

Creates a single detached rope hanging from a point. Can optionally follow a specific start attachment.

```cpp
handle CreateRopeWithSecondPointDetached(handle, int, int, float, string, int, bool, int)
```

## CreateSceneEntity

Create a scene entity to play the specified scene.

```cpp
handle CreateSceneEntity(string)
```

## DecalTrace

Creates a dynamic decal based on the given trace info. The trace information can be generated by TraceLineComplex() and the decal name must be from decals_subrect.txt.

```cpp
void DecalTrace(handle, string)
```

## DestroyDamageInfo

```cpp
void DestroyDamageInfo(handle)
```

## DestroyFireBulletsInfo

```cpp
void DestroyFireBulletsInfo(handle)
```

## DispatchParticleEffect

Dispatches a one-off particle system

```cpp
function DispatchParticleEffect(particleName, origin, angles, entity)
```

## DispatchSpawn

Spawns an unspawned entity.

```cpp
void DispatchSpawn(handle)
```

## DoIncludeScript

Execute a script (internal)

```cpp
bool DoIncludeScript(string, handle)
```

## EmitSoundOn

Play named sound on an entity.

```cpp
void EmitSoundOn(string, handle)
```

## EmitSoundOnClient

Play named sound only on the client for the specified player.

```cpp
void EmitSoundOnClient(string, handle, handle)
```

## EmitSoundParamsOn

Play EmitSound_t params on an entity.

```cpp
void EmitSoundParamsOn(handle, handle)
```

## EntFire

Generate an entity i/o event

```cpp
function EntFire(target, action, value, delay, activator, caller)
```

## EntFireByHandle

Generate an entity i/o event. First parameter is an entity instance.

```cpp
function EntFireByHandle(target, action, value, delay, activator, caller)
```

## EntIndexToHScript

Returns the script handle for the given entity index.

```cpp
handle EntIndexToHScript(int)
```

## EntitiesAtPoint

Gets all entities which are intersecting a point in space. This function copies them to an array with a maximum number of elements.

```cpp
void EntitiesAtPoint(handle, int, Vector, int)
```

## EntitiesInBox

Gets all entities which are within a worldspace box. This function copies them to an array with a maximum number of elements.

```cpp
void EntitiesInBox(handle, int, Vector, Vector, int)
```

## EntitiesInSphere

Gets all entities which are within a sphere. This function copies them to an array with a maximum number of elements.

```cpp
void EntitiesInSphere(handle, int, Vector, float, int)
```

## ExponentialDecay

decayTo is factor the value should decay to in decayTime

```cpp
float ExponentialDecay(float, float, float)
```

## FLerp

```cpp
float FLerp(float, float, float, float, float)
```

## FileExists

Returns true if the file exists.

```cpp
bool FileExists(string)
```

## FileToKeyValues

Returns the CScriptKeyValues from the file, null if no file or file is too big.

```cpp
handle FileToKeyValues(string)
```

## FileToString

Returns the string from the file, null if no file or file is too big.

```cpp
string FileToString(string)
```

## FireGameEvent

Fire a game event.

```cpp
void FireGameEvent(string, handle)
```

## FireGameEventLocal

Fire a game event without broadcasting to the client.

```cpp
void FireGameEventLocal(string, handle)
```

## FrameTime

Get the time spent on the server in the last frame

```cpp
float FrameTime()
```

## FreeMatrixInstance

Frees an allocated matrix instance.

```cpp
void FreeMatrixInstance(handle)
```

## FreeQuaternionInstance

Frees an allocated quaternion instance.

```cpp
void FreeQuaternionInstance(handle)
```

## Gain

Gain is similar to Bias, but biasAmt biases towards or away from 0.5.

```cpp
float Gain(float, float)
```

## GameOver

Ends the game and reloads the last save.

```cpp
handle GameOver(string, float, float, float, int, int, int)
```

## GetActivityName

Gets the name of the specified activity index.

```cpp
string GetActivityName(int)
```

## GetCPUUsage

Get CPU usage percentage.

```cpp
float GetCPUUsage()
```

## GetEntityIOEventTimeLeft

Get time left on entity I/O event.

```cpp
float GetEntityIOEventTimeLeft(int)
```

## GetFrameCount

Absolute frame counter

```cpp
int GetFrameCount()
```

## GetLoadType

Get the way the current game was loaded (corresponds to the MapLoad enum)

```cpp
int GetLoadType()
```

## GetMapName

Get the name of the map.

```cpp
string GetMapName()
```

## GetPhysAngVelocity

Gets physics angular velocity for the given VPhysics object

```cpp
Vector GetPhysAngVelocity(handle)
```

## GetPhysVelocity

Gets physics velocity for the given VPhysics object

```cpp
Vector GetPhysVelocity(handle)
```

## GuessDamageForce

Try and guess the physics force to use.

```cpp
void GuessDamageForce(handle, Vector, Vector, float)
```

## ImpulseScale

Returns an impulse scale required to push an object.

```cpp
float ImpulseScale(float, float)
```

## InsertAISound

Inserts an AI sound.

```cpp
void InsertAISound(int, Vector, int, float, handle, int, handle)
```

## IntervalPerTick

Simulation tick interval

```cpp
float IntervalPerTick()
```

## IsClient

Returns true if the script is being run on the client.

```cpp
bool IsClient()
```

## IsDedicatedServer

Is this a dedicated server?

```cpp
bool IsDedicatedServer()
```

## IsLinux

Returns true if the game is being run on a Linux machine.

```cpp
bool IsLinux()
```

## IsOSX

Returns true if the game is being run on an OSX machine.

```cpp
bool IsOSX()
```

## IsPosix

Returns true if the game is being run on a Posix machine.

```cpp
bool IsPosix()
```

## IsServer

Returns true if the script is being run on the server.

```cpp
bool IsServer()
```

## IsWindows

Returns true if the game is being run on a Windows machine.

```cpp
bool IsWindows()
```

## KeyValuesToFile

Stores the CScriptKeyValues into the file

```cpp
bool KeyValuesToFile(string, handle)
```

## Lerp

```cpp
float Lerp(float, float, float)
```

## ListenToGameEvent

Register as a listener for a game event from script.

```cpp
int ListenToGameEvent(string, handle, string)
```

## Matcher_Match

Compares a string to a query using Mapbase's matcher system, supporting wildcards, RS matchers, etc.

```cpp
bool Matcher_Match(string, string)
```

## Matcher_NamesMatch

Compares a string to a query using Mapbase's matcher system using wildcards only.

```cpp
bool Matcher_NamesMatch(string, string)
```

## MatricesAreEqual

Checks if two matrices are equal.

```cpp
void MatricesAreEqual(handle, handle)
```

## MatrixAngles

Gets the angles and position of a matrix.

```cpp
void MatrixAngles(handle, Vector, Vector)
```

## MatrixCopy

Copies a matrix to another matrix.

```cpp
void MatrixCopy(handle, handle)
```

## MatrixGetColumn

Gets the column of a matrix.

```cpp
Vector MatrixGetColumn(handle, int)
```

## MatrixGetTranslation

Gets a matrix's translation.

```cpp
Vector MatrixGetTranslation(handle)
```

## MatrixInvert

Inverts a matrix and copies the result to another matrix.

```cpp
void MatrixInvert(handle, handle)
```

## MatrixQuaternion

Converts a matrix to a quaternion.

```cpp
void MatrixQuaternion(handle, handle)
```

## MatrixScaleBy

Scales a matrix.

```cpp
void MatrixScaleBy(float, handle)
```

## MatrixScaleByZero

Scales a matrix by zero.

```cpp
void MatrixScaleByZero(handle)
```

## MatrixSetColumn

Sets the column of a matrix.

```cpp
void MatrixSetColumn(Vector, int, handle)
```

## MatrixSetTranslation

Sets a matrix's translation.

```cpp
void MatrixSetTranslation(Vector, handle)
```

## MaxPlayers

Get the maximum number of players allowed on this server

```cpp
int MaxPlayers()
```

## MegaPhyscannonActive

Checks if supercharged gravity gun mode is enabled.

```cpp
bool MegaPhyscannonActive()
```

## Msg

```cpp
void Msg(string)
```

## NPrint

Notification print

```cpp
void NPrint(int, string)
```

## NXPrint

Notification print, customised

```cpp
void NXPrint(int, int, int, int, bool, float, string)
```

## PrecacheEntityFromTable

Precache an entity from KeyValues in a table.

```cpp
void PrecacheEntityFromTable(string, handle)
```

## PrecacheMaterial

Precaches a material for later usage.

```cpp
void PrecacheMaterial(string)
```

## PrecacheModel

Precaches a model for later usage.

```cpp
int PrecacheModel(string, bool)
```

## PrecacheOther

Precaches an entity class for later usage.

```cpp
void PrecacheOther(string, string)
```

## PrecacheParticleSystem

Precaches a particle system for later usage.

```cpp
void PrecacheParticleSystem(string)
```

## PredictedPosition

Predicts what an entity's position will be in a given amount of time.

```cpp
Vector PredictedPosition(handle, float)
```

## QuaternionAdd

Adds two quaternions together into another quaternion.

```cpp
void QuaternionAdd(handle, handle, handle)
```

## QuaternionAngles

Converts a quaternion to angles.

```cpp
Vector QuaternionAngles(handle)
```

## QuaternionMatrix

Converts a quaternion to a matrix.

```cpp
void QuaternionMatrix(handle, handle)
```

## RandomFloat

Generate a random floating point number within a range, inclusive.

```cpp
float RandomFloat(float, float)
```

## RandomInt

Generate a random integer within a range, inclusive.

```cpp
int RandomInt(int, int)
```

## RegisterActivityConstants

Registers all activity IDs as usable constants.

```cpp
void RegisterActivityConstants()
```

## RemapVal

```cpp
float RemapVal(float, float, float, float, float)
```

## RemapValClamped

```cpp
float RemapValClamped(float, float, float, float, float)
```

## RestoreTable

Retrieves a table from storage. Write into input table.

```cpp
void RestoreTable(string, handle)
```

## SaveEntityKVToTable

Saves an entity's keyvalues to a table.

```cpp
void SaveEntityKVToTable(handle, handle)
```

## SaveTable

Store a table with primitive values that will persist across level transitions and save loads.

```cpp
void SaveTable(string, handle)
```

## SendToConsole

Send a string to the console as a command

```cpp
void SendToConsole(string)
```

## SendToConsoleServer

Send a string to the server console as a command

```cpp
void SendToConsoleServer(string)
```

## SetIdentityMatrix

Turns a matrix into an identity matrix.

```cpp
void SetIdentityMatrix(handle)
```

## SetPhysVelocity

Sets physics velocity for the given VPhysics object

```cpp
void SetPhysVelocity(handle, Vector, Vector)
```

## SetScaleMatrix

Builds a scale matrix.

```cpp
void SetScaleMatrix(float, float, float, handle)
```

## ShowMessage

Print a hud message on all clients

```cpp
void ShowMessage(string)
```

## SimpleSpline

```cpp
float SimpleSpline(float)
```

## SimpleSplineRemapVal

remaps a value in [startInterval, startInterval+rangeInterval] from linear to spline using SimpleSpline

```cpp
float SimpleSplineRemapVal(float, float, float, float, float)
```

## SimpleSplineRemapValClamped

remaps a value in [startInterval, startInterval+rangeInterval] from linear to spline using SimpleSpline

```cpp
float SimpleSplineRemapValClamped(float, float, float, float, float)
```

## SmoothCurve

SmoothCurve maps a 0-1 value into another 0-1 value based on a cosine wave

```cpp
float SmoothCurve(float)
```

## SmoothCurve_Tweak

SmoothCurve peaks at flPeakPos, flPeakSharpness controls the sharpness of the peak

```cpp
float SmoothCurve_Tweak(float, float, float)
```

## SpawnEntityFromKeyValues

Spawns an entity with the keyvalues in a CScriptKeyValues handle.

```cpp
handle SpawnEntityFromKeyValues(string, handle)
```

## SpawnEntityFromTable

Native function for entity spawning.

```cpp
handle SpawnEntityFromTable(string, handle)
```

## StopListeningToAllGameEvents

Stop listening to all game events within a specific context.

```cpp
void StopListeningToAllGameEvents(string)
```

## StopListeningToGameEvent

Stop the specified event listener.

```cpp
bool StopListeningToGameEvent(int)
```

## StringToFile

Stores the string into the file

```cpp
bool StringToFile(string, string)
```

## Time

Get the current server time

```cpp
float Time()
```

## TraceHullComplex

Takes 2 points, min/max hull bounds, an ent to ignore, a trace mask, and a collision group to trace to a point using a hull. Returns a handle which can access all trace info.

```cpp
handle TraceHullComplex(Vector, Vector, Vector, Vector, handle, int, int)
```

## TraceLine

given 2 points & ent to ignore, return fraction along line that hits world or models

```cpp
float TraceLine(Vector, Vector, handle)
```

## TraceLineComplex

Complex version of TraceLine which takes 2 points, an ent to ignore, a trace mask, and a collision group. Returns a handle which can access all trace info.

```cpp
handle TraceLineComplex(Vector, Vector, handle, int, int)
```

## UniqueString

Generate a string guaranteed to be unique across the life of the script VM, with an optional root string. Useful for adding data to tables when not sure what keys are already in use in that table.

```cpp
function UniqueString(string)
```

## VectorAngles

Turns a direction vector into an angle.

```cpp
Vector VectorAngles(Vector)
```

## VectorIRotate

Rotates a vector with the inverse of a matrix.

```cpp
Vector VectorIRotate(Vector, handle)
```

## VectorITransform

Transforms a vector with the inverse of a matrix.

```cpp
Vector VectorITransform(Vector, handle)
```

## VectorRotate

Rotates a vector with a matrix.

```cpp
Vector VectorRotate(Vector, handle)
```

## VectorTransform

Transforms a vector with a matrix.

```cpp
Vector VectorTransform(Vector, handle)
```

## clamp

```cpp
float clamp(float, float, float)
```

## max

```cpp
float max(float, float)
```

## min

```cpp
float min(float, float)
```

## printc

Version of print() which takes a color before the message.

```cpp
void printc(int, int, int, string)
```

## printcl

Version of printl() which takes a color before the message.

```cpp
void printcl(int, int, int, string)
```
